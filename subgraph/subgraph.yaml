specVersion: 0.0.2
description: Honeylemon graph
repository: https://github.com/0xproject/0x-subgraph
schema:
    file: ./schema.graphql
dataSources:
    - kind: ethereum/contract
      name: ExchangeV3
      network: mainnet
      source:
          #address: '0x4f833a24e1f95d70f028921e27040ca56e09ab0b' # mainnet
          address: '0x48bacb9266a570d521063ef5dd96e61686dbe788' # ganache
          abi: ExchangeV3
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.4
          language: wasm/assemblyscript
          entities:
              - User
              - Fill
          abis:
              - name: ExchangeV3
                file: ./abis/ExchangeV3.json
          eventHandlers:
              - event: Fill(indexed address,indexed address,bytes,bytes,bytes,bytes,indexed bytes32,address,address,uint256,uint256,uint256,uint256,uint256)
                handler: handleFill
              - event: Cancel(indexed address,indexed address,bytes,bytes,address,indexed bytes32)
                handler: handleCancel
          file: ./src/mapping.ts
    - kind: ethereum/contract
      name: MarketContractProxy
      network: mainnet
      source:
          #address: '0x4f833a24e1f95d70f028921e27040ca56e09ab0b' # mainnet
          address: '0xdD66C23e07b4D6925b6089b5Fe6fc9E62941aFE8' # ganache
          abi: MarketContractProxy
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.4
          language: wasm/assemblyscript
          entities:
              - User
              - PositionTokensMinted
          abis:
              - name: MarketContractProxy
                file: ./abis/MarketContractProxy.json
          eventHandlers:
              - event: PositionTokensMinted(indexed uint256,string,indexed address,address,indexed address,address,uint256,address,address,address,uint256)
                handler: handlePositionTokensMinted
          file: ./src/mapping.ts
